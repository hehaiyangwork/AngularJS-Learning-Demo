!function(){"use strict";angular.module("websiteApp",["ngStorage"])}(),function(){"use strict";function e(e,n,t){function o(e){return t.access_token&&(e.headers["X-Access-Token"]="Bearer "+t.access_token),e}function s(n){return 401==n.status,403==n.status,e.reject(n)}return{request:o,responseError:s}}angular.module("websiteApp").value("version","0.1"),angular.module("websiteApp").factory("commonInterceptor",e),e.$inject=["$q","$location","$localStorage"],angular.module("websiteApp").config(["$httpProvider","$compileProvider",function(e,n){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.defaults.headers.common.Accept="application/json, text/javascript",e.interceptors.push("commonInterceptor"),n.debugInfoEnabled(!1)}])}(),function(){"use strict";angular.module("websiteApp").filter("interpolate",["version",function(e){return function(n){return String(n).replace(/\%VERSION\%/gm,e)}}])}(),function(){"use strict";function e(e,n,t,o){function s(n){return n.$invalid?(n.username.$setDirty(),void n.password.$setDirty()):void o.login(l.data.newUser).then(function(n){console.log(n),e.location.href="/"})["catch"](function(e){e&&e.data&&e.data.code&&(l.css.loginFormErrorMessage=e.data.code),t.errorXHR(e)})}function u(){o.logout().then(function(n){console.log(n),e.location.href="/"})["catch"](function(e){t.errorXHR(e)})}function i(e){l.css.signupType=e}function r(e){if(e.mobile.$invalid)return void e.mobile.$setDirty();l.css.signupFirstTime=!1,l.css.signupSMSSendButton=!1;var s=n(function(){l.css.signupSMSCountDown=l.css.signupSMSCountDown-1,l.css.signupSMSCountDown<=0&&(n.cancel(s),l.css.signupSMSCountDown=60,l.css.signupSMSSendButton=!0)},1e3);o.getSMS(l.data.signupUser.mobile,"signup").then(function(e){console.log(e.data)})["catch"](function(e){t.errorXHR(e)})}function c(e){return e.$invalid?(e.smscode.$setDirty(),e.username.$setDirty(),void e.password.$setDirty()):void o.signup(l.data.signupUser).then(function(e){console.log(e)})["catch"](function(e){e&&e.data&&e.data.code&&(l.css.loginFormErrorMessage=e.data.code),t.errorXHR(e)})}function a(){}var l=this;l.css={loginFormErrorMessage:0,signupType:"mobile",signupFirstTime:!0,signupSMSCountDown:60,signupSMSSendButton:!0},l.data={newUser:{username:"",password:""},signupUser:{email:"",mobile:"",smscode:"",username:"",password:""}},l.event={login:s,logout:u,changeSignupType:i,getSignupSMS:r,signupSMS:c},a()}angular.module("websiteApp").controller("loginController",e),e.$inject=["$window","$interval","Logger","User"]}(),function(){"use strict";function e(e){function n(n){e.error("XHR Failed. "),e.debug(n.data)}function t(n){return e.debug("Debug Info : "+n),n}return{debug:t,errorXHR:n}}angular.module("websiteApp").factory("Logger",e),e.$inject=["$log"]}(),function(){"use strict";function e(e,n){function t(t){function o(e){return e.data&&e.data.accessToken&&(n.access_token=e.data.accessToken),e.data}return e.post("/api/user/login",t).then(o)}function o(){var t=n.access_token||"";return e.post("/api/user/logout",{accessToken:t})}function s(n,t){return t=t||"signup",e.post("/api/user/verify/sms",{mobile:n,messageType:t})}function u(n){return e.post("/api/user/signup",{email:n.email||"",mobile:n.mobile||"",smscode:n.smscode||"",username:n.username,password:n.password})}return{login:t,logout:o,getSMS:s,signup:u}}angular.module("websiteApp").factory("User",e),e.$inject=["$http","$localStorage"]}(),function(){"use strict";angular.module("websiteApp").directive("editMenu",function(){return{restrict:"EA",templateUrl:"tpl_demo10_edit.html",scope:{menulist:"=datalistmodel",menu:"=datamodel",index:"=index"},link:function(e,n,t){e.cssshowmenu=!0,e.editMenuButton=function(){e.cssshowmenu=!1},e.saveEditMenuButton=function(){e.cssshowmenu=!0},e.deleteMenuButton=function(){e.cssshowmenu=!0;for(var t=e.menulist.length-1;t>=0;t--)if(e.menulist[t].id==e.menu.id){e.menulist.splice(t,1),n.remove();break}}}}}),angular.module("angularDemoApp").directive("addMenu",function(){return{restrict:"EA",templateUrl:"tpl_demo10_add.html",scope:!1,link:function(e,n,t){e.maxmenu=Number(t.maxmemu),console.log(Number(t.maxmemu)),e.newmemu={id:100,name:""},e.cssshowmenu=!0,e.cssshowbox=!0,e.menulist.length>=e.maxmenu&&(e.cssshowbox=!1),e.addMenuButton=function(){e.cssshowmenu=!1},e.saveNewMenuButton=function(){e.cssshowmenu=!0,e.menulist.push(angular.copy(e.newmemu)),e.menulist.length>=e.maxmenu&&(e.cssshowbox=!1)}}}})}(),function(){"use strict";function e(){function e(e,n,t){e.css={currentEditMenuIndex:-1,currentSelectMenuIndex:-1,currentHoverMenuIndex:-1,showAddNewMenuForm:!1},e.data={newMenu:{id:e.menulist[e.menulist.length-1].id+1,name:""}},e.addMenu=function(){e.css.showAddNewMenuForm=!0},e.saveNewMenu=function(){e.data.newMenu.id=e.menulist[e.menulist.length-1].id+1,e.menulist.push(angular.copy(e.data.newMenu)),e.css.showAddNewMenuForm=!1},e.editMenu=function(n){e.css.currentEditMenuIndex=n},e.saveEditMenu=function(){e.css.currentEditMenuIndex=-1},e.deleteMenu=function(n){e.menulist.splice(n,1),e.css.currentEditMenuIndex=-1},e.deleteMenu2=function(n){for(var t=e.menulist.length-1;t>=0;t--)if(e.menulist[t].id===n.id){e.menulist.splice(t,1);break}e.css.currentEditMenuIndex=-1}}var n={restrict:"EA",templateUrl:"/angulardemo/js/component/demo/demo14_tpl.html",scope:{menulist:"="},link:e};return n}angular.module("websiteApp").directive("myNavBar",[e])}();
//# sourceMappingURL=app.min.js.map
